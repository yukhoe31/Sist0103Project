<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cute+Font&family=Diphylleia&family=Dongle&family=Gowun+Dodum&family=Nanum+Pen+Script&family=Orbit&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <title>Document</title>
    <style>
      button {
        width: 150px;
        height: 40px;
        text-align: 40px;
        text-align: center;
        line-height: 40px;
        font-family: "Dongle";
        font-size: 1.5em;
        border-radius: 20px;
        cursor: pointer;
      }

      button.btna {
        background-color: blueviolet;
        color: wheat;
      }
      button.btnb {
        background-color: pink;
        color: blue;
      }

      div {
        position: absolute;
        width: 300px;
        height: 300px;
        font-size: 20px;
        font-family: 20px;
        font-family: "Nanum Pen Script";
        font-size: 25px;
      }

      #one {
        left: 200px;
        top: 100px;
        border: 0px solid gray;
      }

      #two {
        left: 500px;
        top: 100px;
        border: 0px solid gray;
      }

      #three {
        left: 700px;
        top: 100px;
        border: 0px solid gray;
      }

      #four {
        left: 1100px;
        top: 100px;
        border: 0px solid gray;
      }

      #movie_result {
        left: 400px;
        top: 500px;
        font-size: 2em;
        width: 1000px;
        height: 400px;
        border-radius: 30px;
        padding: 30px 20px;
        text-align: center;
        border: 3px solid gold;
      }

      #three h3:hover {
        cursor: pointer;
        background-color: bisque;
      }
    </style>
    <script>
      $(function () {
        var theater = "",
          movie = "";

        //#div one에 버튼
        var b1 =
          "<button type='button' id='btn1' class='btna'>영화예매</button>";
        $("#one").append(b1);

        //버튼1 이벤트
        $("#btn1").click(function () {
          var b2 =
            "<button type='button' id='btn2' class='btna'>극장선택</button>";
          b2 +=
            "&nbsp;&nbsp;&nbsp;<button type='button' id='btn3' class='btnb'>영화선택</button>";

          $("#two").html(b2);
        });

        //버튼 2 이벤트는 나중에 동적생성이므로 on이벤트
        $(document).on("click", "#btn2", function () {
          var s = "";

          s += "<h3 class='theater'>CGV 강남점</h3>";
          s += "<h3 class='theater'>CGV 강북점</h3>";
          s += "<h3 class='theater'>MEGABOX 코엑스점</h3>";
          s += "<h3 class='theater'>CGV 청담점</h3>";
          s += "<h3 class='theater'>롯데시네마 용인점</h3>";

          $("#three").html(s);
        });

        //버튼 2 이벤트는 나중에 동적생성이므로 on이벤트
        $(document).on("click", "#btn3", function () {
          var s = "";

          s += "<h3 class='movie'>겨울왕국<h3>";
          s += "<h3 class='movie'>이웃집 토토로</h3>";
          s += "<h3 class='movie'>어벤저스4</h3>";
          s += "<h3 class='movie'>찰리와 초콜릿공장</h3>";
          s += "<h3 class='movie'>라라랜드</h3>";
          s += "<h3 class='movie'>다크나이트</h3>";

          $("#three").html(s);
        });

        //영화관 영화제목 클릭시 이벤트
        $(document).on("click", "#three h3", function () {
          //클릭한 h3에서 class속성을 얻는다.
          var movie_select = $(this).attr("class");

          if (movie_select == "theater") {
            theater = "극장명: " + $(this).text();
          } else {
            var times = ["09:00", "12:30", "14:45", "18:20", "21:30"];

            var t = "";
            $.each(times, function (i, ele) {
              t +=
                "<input type='radio' name='time' value='" +
                times[i] +
                "'>" +
                times[i] +
                " ";
            });

            movie = "영화제목: " + $(this).text();

            t += "<input type='number' min='1' max='5' value='0' id='inwon'>";

            $("#four").html(t);
          }

          $("#movie_result").html(theater + "<br>" + movie);
        });

        //라디오버튼 선택시 이벤트
        $(document).on("click","input[name='time']",function(){

            console.log($(this).val());

            time="상영시간: " + $(this).val();

            $("#movie_result").html(theater + "<br>" +movie+ "<br>" +time);

        })

        //인원 변경시 이벤트
        $(document).on("change","#inwon", function(){
            inwon = "인원수: " + $(this).val();

            $("#movie_result").html(theater + "<br>" +movie+ "<br>" +time+ "<br>" +inwon);
        })

      });
    </script>
  </head>
  <body>
    <div id="one"></div>
    <div id="two"></div>
    <div id="three"></div>
    <div id="four"></div>
    <div id="movie_result"></div>
  </body>
</html>
